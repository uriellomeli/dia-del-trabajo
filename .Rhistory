plot.title.position = "plot",
plot.subtitle = element_textbox_simple(size = 12, lineheight = 1,
padding = margin(3, 3, 3, 3),
margin = margin(3, 0, 10, 0),
fill = "cornsilk", halign = 0),
plot.margin = margin(t = 25, r = 15, b = 5, l = 15),
axis.text = element_text(size = 12, face = "bold"),
axis.title.x = element_text(hjust = 0.4, margin = margin(t = 25), size = 14),
text = element_text(family = "font")) -> p2
p2
uniondiff %>%
filter(year %in% c(2021)) %>%
ggplot(aes(x = wage_diff, y = reorder(variable, wage_diff))) +
geom_vline(xintercept = 0, color = "gray40", size = 1.5) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Hispanic or Latino, ")), description = desc),
label.colour = "#0064ab", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(40, 'mm'),
con.cap = 0, con.colour = "#0064ab", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Black, ")), description = desc),
label.colour = "#c99f6e", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(55, 'mm'),
con.cap = 0, con.colour = "#c99f6e", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Total, 16 years")), description = desc),
label.colour = "#6876a4", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(5, 'mm'),
con.cap = 0, con.colour = "#6876a4", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_point(aes(size = wage_diff, color = color), alpha = 0.9, show.legend = F, shape = 21, fill = "white", stroke = 4) +
scale_color_manual(values = colors) +
scale_x_continuous(limits = c(-200, 300), breaks = seq(-200, 300, 50), labels = scales::dollar_format()) +
draw_text(text = "On this side, workers that are members of unions\nearn on average more than non-union workers",
x = 220, y = 3, size = 12, color = "gray40", family = "font") +
coord_cartesian(clip = "off") +
labs(x = "Difference in median weekly earnings",
y = "",
title = NULL,
subtitle = "Should I join a UNION? Since 2012,  the median weekly earnings of full-time wage and salary workers have been larger for Members of Unions than for Non-union workers. 2021 data shows that Hispanic or Latino workers who are members of a union earn an average of $277 more than those who are not members of a union.",
caption = ) +
theme_minimal() +
theme(panel.grid = element_blank(),
plot.title.position = "plot",
plot.subtitle = element_textbox_simple(size = 12, lineheight = 1,
padding = margin(3, 3, 3, 3),
margin = margin(2, 0, 10, 0),
fill = "cornsilk", halign = 0.5),
plot.margin = margin(t = 0, r = 15, b = 10, l = 15),
axis.text = element_text(size = 12, face = "bold"),
axis.title.x = element_text(hjust = 0.4, margin = margin(t = 25), size = 14),
text = element_text(family = "font")) +
geom_qr(aes(label = qr, x = -150, y = 25), size = 1.3) +
annotate("curve", x = -110, xend = -165, y = 17, yend = 21, color = "gray60", curvature = -.45, alpha = 0.9,
arrow = arrow(angle = 15, length = unit(3.5, "mm"), type = "closed")) +
annotate("text", x = -85, y = 17, label = "more info\nscan here", color = "gray60", size = 4, hjust = 0.5, vjust = 0.5) -> p1
uniondiff %>%
filter(year %in% c(2021)) %>%
ggplot(aes(x = wage_diff, y = reorder(variable, wage_diff))) +
geom_vline(xintercept = 0, color = "gray40", size = 1.5) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Hispanic or Latino, ")), description = desc),
label.colour = "#0064ab", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(40, 'mm'),
con.cap = 0, con.colour = "#0064ab", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Black, ")), description = desc),
label.colour = "#c99f6e", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(55, 'mm'),
con.cap = 0, con.colour = "#c99f6e", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Total, 16 years")), description = desc),
label.colour = "#6876a4", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(5, 'mm'),
con.cap = 0, con.colour = "#6876a4", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_point(aes(size = wage_diff, color = color), alpha = 0.9, show.legend = F, shape = 21, fill = "white", stroke = 4) +
scale_color_manual(values = colors) +
scale_x_continuous(limits = c(-200, 300), breaks = seq(-200, 300, 50), labels = scales::dollar_format()) +
draw_text(text = "On this side, workers that are members of unions\nearn on average more than non-union workers",
x = 220, y = 3, size = 12, color = "gray40", family = "font") +
coord_cartesian(clip = "off") +
labs(x = "Difference in median weekly earnings",
y = "",
title = NULL,
subtitle = "Should I join a UNION? Since 2012,  the median weekly earnings of full-time wage and salary workers have been larger for Members of Unions than for Non-union workers. 2021 data shows that Hispanic or Latino workers who are members of a union earn an average of $277 more than those who are not members of a union.",
caption = ) +
theme_minimal() +
theme(panel.grid = element_blank(),
plot.title.position = "plot",
plot.subtitle = element_textbox_simple(size = 12, lineheight = 1,
padding = margin(3, 3, 3, 3),
margin = margin(2, 0, 10, 0),
fill = "cornsilk", halign = 0.5),
plot.margin = margin(t = 0, r = 15, b = 10, l = 15),
axis.text = element_text(size = 12, face = "bold"),
axis.title.x = element_text(hjust = 0.4, margin = margin(t = 25), size = 14),
text = element_text(family = "font")) +
geom_qr(aes(label = qr, x = -150, y = 25), size = 1.3) +
annotate("curve", x = -110, xend = -165, y = 17, yend = 21, color = "gray60", curvature = -.45, alpha = 0.9,
arrow = arrow(angle = 15, length = unit(3.5, "mm"), type = "closed")) +
annotate("text", x = -85, y = 17, label = "more info\nscan here", color = "gray60", size = 4, hjust = 0.5, vjust = 0.5) -> p1
p1
uniondiff %>%
filter(year %in% c(2021)) %>%
ggplot(aes(x = wage_diff, y = reorder(variable, wage_diff))) +
geom_vline(xintercept = 0, color = "gray40", size = 1.5) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Hispanic or Latino, ")), description = desc),
label.colour = "#0064ab", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(40, 'mm'),
con.cap = 0, con.colour = "#0064ab", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Black, ")), description = desc),
label.colour = "#c99f6e", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(55, 'mm'),
con.cap = 0, con.colour = "#c99f6e", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Total, 16 years")), description = desc),
label.colour = "#6876a4", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(5, 'mm'),
con.cap = 0, con.colour = "#6876a4", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_point(aes(size = wage_diff, color = color), alpha = 0.9, show.legend = F, shape = 21, fill = "white", stroke = 4) +
scale_color_manual(values = colors) +
scale_x_continuous(limits = c(-200, 300), breaks = seq(-200, 300, 50), labels = scales::dollar_format()) +
draw_text(text = "On this side, workers that are members of unions\nearn on average more than non-union workers",
x = 220, y = 3, size = 12, color = "gray40", family = "font") +
coord_cartesian(clip = "off") +
labs(x = "Difference in median weekly earnings",
y = "",
title = NULL,
subtitle = "Should I join a UNION? Since 2012,  the median weekly earnings of full-time wage and salary workers have been larger for Members of Unions than for Non-union workers. 2021 data shows that Hispanic or Latino workers who are members of a union earn an average of $277 more than those who are not members of a union.",
caption = ) +
theme_minimal() +
theme(panel.grid = element_blank(),
plot.title.position = "plot",
plot.subtitle = element_textbox_simple(size = 12, lineheight = 1,
padding = margin(3, 3, 3, 3),
margin = margin(2, 0, 10, 0),
fill = "cornsilk", halign = 0.5),
plot.margin = margin(t = 5, r = 15, b = 10, l = 15),
axis.text = element_text(size = 12, face = "bold"),
axis.title.x = element_text(hjust = 0.4, margin = margin(t = 25), size = 14),
text = element_text(family = "font")) +
geom_qr(aes(label = qr, x = -150, y = 25), size = 1.3) +
annotate("curve", x = -110, xend = -165, y = 17, yend = 21, color = "gray60", curvature = -.45, alpha = 0.9,
arrow = arrow(angle = 15, length = unit(3.5, "mm"), type = "closed")) +
annotate("text", x = -85, y = 17, label = "more info\nscan here", color = "gray60", size = 4, hjust = 0.5, vjust = 0.5) -> p1
p1
# Title and subtitle
ggdraw() +
draw_text("L a b o u r   D a y", x = 0.1, y = 0.7, size = 18, family = "font", hjust = 0, color = "firebrick4") +
draw_text("Should I join a UNION? Since 2012, the median weekly earnings of full-time wage and salary workers have been larger for\nmembers of unions than for non-union workers.", x = 0.1, y = 0.5, size = 12, family = "font", hjust = 0) +
draw_text("\n2021 data shows that Hispanic or Latino workers who are members of a union earn an average of $277 more than those\nwho are not members of a union.", x = 0.1, y = 0.3, size = 12, family = "font", hjust = 0) -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
# Title and subtitle
ggdraw() +
draw_text("L a b o u r   D a y", x = 0.1, y = 0.8, size = 18, family = "font", hjust = 0, color = "firebrick4") +
draw_text("Should I join a UNION? Since 2012, the median weekly earnings of full-time wage and salary workers have been larger for\nmembers of unions than for non-union workers.", x = 0.1, y = 0.5, size = 12, family = "font", hjust = 0) +
draw_text("\n2021 data shows that Hispanic or Latino workers who are members of a union earn an average of $277 more than those\nwho are not members of a union.", x = 0.1, y = 0.3, size = 12, family = "font", hjust = 0) -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
labour_day <- plot_grid(top_plot,
p1,
p2,
caption_plot,
rel_heights = c(2, 10, 10, 1),
nrow = 4)
labour_day
# Title and subtitle
ggdraw() +
draw_text("L a b o u r   D a y", x = 0.1, y = 0.85, size = 18, family = "font", hjust = 0, color = "firebrick4") +
draw_text("Should I join a UNION? Since 2012, the median weekly earnings of full-time wage and salary workers have been larger for\nmembers of unions than for non-union workers.", x = 0.1, y = 0.55, size = 12, family = "font", hjust = 0) +
draw_text("\n2021 data shows that Hispanic or Latino workers who are members of a union earn an average of $277 more than those\nwho are not members of a union.", x = 0.1, y = 0.35, size = 12, family = "font", hjust = 0) -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
uniondiff %>%
filter(year %in% c(2021)) %>%
ggplot(aes(x = wage_diff, y = reorder(variable, wage_diff))) +
geom_vline(xintercept = 0, color = "gray40", size = 1.5) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Hispanic or Latino, ")), description = desc),
label.colour = "#0064ab", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(40, 'mm'),
con.cap = 0, con.colour = "#0064ab", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Black, ")), description = desc),
label.colour = "#c99f6e", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(55, 'mm'),
con.cap = 0, con.colour = "#c99f6e", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Total, 16 years")), description = desc),
label.colour = "#6876a4", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(5, 'mm'),
con.cap = 0, con.colour = "#6876a4", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_point(aes(size = wage_diff, color = color), alpha = 0.9, show.legend = F, shape = 21, fill = "white", stroke = 4) +
scale_color_manual(values = colors) +
scale_x_continuous(limits = c(-200, 300), breaks = seq(-200, 300, 50), labels = scales::dollar_format()) +
draw_text(text = "On this side, workers that are members of unions\nearn on average more than non-union workers",
x = 220, y = 3, size = 12, color = "gray40", family = "font") +
coord_cartesian(clip = "off") +
labs(x = "Difference in median weekly earnings",
y = "",
title = NULL,
subtitle = "Should I join a UNION? Since 2012,  the median weekly earnings of full-time wage and salary workers have been larger for Members of Unions than for Non-union workers. 2021 data shows that Hispanic or Latino workers who are members of a union earn an average of $277 more than those who are not members of a union.",
caption = ) +
theme_minimal() +
theme(panel.grid = element_blank(),
plot.title.position = "plot",
plot.subtitle = element_textbox_simple(size = 12, lineheight = 1,
padding = margin(3, 3, 3, 3),
margin = margin(2, 0, 10, 0),
fill = "cornsilk", halign = 0.5),
plot.margin = margin(t = 20, r = 25, b = 25, l = 25),
axis.text = element_text(size = 12, face = "bold"),
axis.title.x = element_text(hjust = 0.4, margin = margin(t = 25), size = 14),
text = element_text(family = "font")) +
geom_qr(aes(label = qr, x = -150, y = 25), size = 1.3) +
annotate("curve", x = -110, xend = -165, y = 17, yend = 21, color = "gray60", curvature = -.45, alpha = 0.9,
arrow = arrow(angle = 15, length = unit(3.5, "mm"), type = "closed")) +
annotate("text", x = -85, y = 17, label = "more info\nscan here", color = "gray60", size = 4, hjust = 0.5, vjust = 0.5) -> p1
p1
unionocupdiff %>%
filter(year == 2021) %>%
ggplot(aes(x = union, y = reorder(Occupation, union))) +
geom_segment(aes(xend = non_union, yend = Occupation, size = log(100*wage_diff), alpha = 0.95), color = "#cfe1eb", show.legend = F) +
geom_segment(aes(xend = union - 7, yend = Occupation, size = log(100*wage_diff)), color = "#0064ab", show.legend = F) +
geom_segment(aes(x = non_union, xend = non_union + 7, yend = Occupation, size = log(100*wage_diff)), color = "#c99f6e", show.legend = F) +
geom_text(aes(x = union, y = Occupation, label = unionlab), color = "gray30", nudge_x = 30, size = 3.6) +
geom_text(aes(x = non_union, y = Occupation, label = nonunionlab), color = "gray30", nudge_x = -30, size = 3.6) +
geom_text(data = unionocupdiff %>% filter(Occupation != "Personal care and service occupations" & year == 2021),
aes(x = union - (wage_diff/2), y = Occupation, label = desc), color = "gray60", nudge_x = 0, size = 3) +
coord_cartesian(clip = "off") +
scale_x_continuous(limits = c(500, 1500), breaks = seq(500, 1500, 200), labels = scales::dollar_format()) +
scale_y_discrete(labels = function(x) str_wrap(x, width = 27)) +
labs(x = "Median weekly earnings",
y = "",
title = NULL,
subtitle = "In 2021, the median weekly earnings of full-time wage and salary workers have been larger for Members of Unions than for Non-union workers. 2021 data shows that workers who are members of a union earn an average more than those who are not members of a union. Members of Unions on Protective service, Construction and extraction, Service, and Installation, maintenance, and repair occupations have on average higher earnings than those not affiliated with a union.") +
theme_minimal() +
theme(panel.grid = element_blank(),
plot.title.position = "plot",
plot.subtitle = element_textbox_simple(size = 12, lineheight = 1,
padding = margin(3, 3, 3, 3),
margin = margin(3, 0, 10, 0),
fill = "cornsilk", halign = 0),
plot.margin = margin(t = 20, r = 25, b = 25, l = 25),
axis.text = element_text(size = 12, face = "bold"),
axis.title.x = element_text(hjust = 0.4, margin = margin(t = 25), size = 14),
text = element_text(family = "font")) -> p2
p2
labour_day <- plot_grid(top_plot,
p1,
p2,
caption_plot,
rel_heights = c(2, 10, 10, 1),
nrow = 4)
labour_day
# Title and subtitle
ggdraw() +
draw_text("<b>L a b o u r   D a y</b>", x = 0.1, y = 0.75, size = 26, family = "font", hjust = 0, color = "firebrick4") +
draw_text("\n2021 data shows that Hispanic or Latino workers who are members of a union earn an average of $277 more than those\nwho are not members of a union.", x = 0.1, y = 0.35, size = 12, family = "font", hjust = 0) -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
align_plots(p1, p2)
align_plots(p1, p2, align = "hv")
align_plots(p1, p2, align="hv", axis="tblr")
cowplot::align_plots(p1, p2, align="hv", axis="tblr")
img2 <- system.file("extdata", "union_strong.png", package = "cowplot") %>%
image_read() %>%
image_resize("570x380") %>%
image_colorize(35, "white")
img2 <- system.file("~/GitHub/dia-del-trabajo/", "union_strong.png", package = "cowplot") %>%
image_read() %>%
image_resize("570x380") %>%
image_colorize(35, "white")
img2 <- system.file("~/GitHub/dia-del-trabajo/union_strong.png", "union_strong.png", package = "cowplot") %>%
image_read() %>%
image_resize("570x380") %>%
image_colorize(35, "white")
img2 <- system.file("~/GitHub/dia-del-trabajo/union_strong.png", "~/GitHub/dia-del-trabajo/union_strong.png", package = "cowplot") %>%
image_read() %>%
image_resize("570x380") %>%
image_colorize(35, "white")
img2 <- system.file("~/GitHub/dia-del-trabajo/union_strong.png", "~/GitHub/dia-del-trabajo/union_strong.png", package = "cowplot") %>%
image_read(path = "~/GitHub/dia-del-trabajo/union_strong.png") %>%
image_resize("570x380") %>%
image_colorize(35, "white")
img2
ggdraw() +
draw_image(img) +
draw_plot(labour_day)
ggdraw() +
draw_image(img2) +
draw_plot(labour_day)
img2 <- system.file("~/GitHub/dia-del-trabajo/union_strong.png", "~/GitHub/dia-del-trabajo/union_strong.png", package = "cowplot") %>%
image_read(path = "~/GitHub/dia-del-trabajo/union_strong.png") %>%
image_resize("570x380") %>%
image_colorize(35, "white")
ggdraw() +
draw_image(img2) +
draw_plot(labour_day)
ggsave(filename = "~/GitHub/dia-del-trabajo/labpour_day.png", plot = labour_day, height = 8, width = 10, units = "in", dpi = 300)
ggsave(filename = "~/GitHub/dia-del-trabajo/labour_day.png", plot = labour_day, height = 23, width = 12, units = "in", dpi = 300)
ggsave(filename = "~/GitHub/dia-del-trabajo/labour_day.png", plot = labour_day, height = 23, width = 12, units = "in", dpi = "screen")
# Title and subtitle
ggdraw() +
draw_text("L  a  b  o  u  r     D  a  y", x = 0.1, y = 0.75, size = 26, family = "font", hjust = 0, color = "firebrick4") +
draw_text("\n2021 data shows that Hispanic or Latino workers who are members of a union earn an average of $277 more than those\nwho are not members of a union.", x = 0.1, y = 0.4, size = 12, family = "font", hjust = 0) -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
# Title and subtitle
ggdraw() +
draw_text("L  a  b  o  u  r     D  a  y", x = 0.1, y = 0.75, size = 26, family = "font", hjust = 0, color = "firebrick4") -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
# Title and subtitle
ggdraw() +
draw_text("L  a  b  o  u  r     D  a  y", x = 0.1, y = 0.5, size = 30, family = "font", hjust = 0, color = "firebrick4") -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
# Title and subtitle
ggdraw() +
draw_text("L  a  b  o  u  r     D  a  y", x = 0.1, y = 0.5, size = 34, family = "font", hjust = 0, color = "firebrick4") -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
# Title and subtitle
ggdraw() +
draw_text("L  a  b  o  u  r     D  a  y", x = 0.3, y = 0.5, size = 34, family = "font", hjust = 0, color = "firebrick4") -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
# Title and subtitle
ggdraw() +
draw_text("L  a  b  o  u  r     D  a  y", x = 0.2, y = 0.5, size = 34, family = "font", hjust = 0, color = "firebrick4") -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
row_plot <- plot_grid(p1, p2, nrow = 2, align = "hv", rel_heights = c(2, 2))
labour_day <- plot_grid(top_plot,
p1,
p2,
caption_plot,
rel_heights = c(2, 10, 10, 1),
nrow = 4)
ggsave(filename = "~/GitHub/dia-del-trabajo/labour_day.png", plot = labour_day, height = 23, width = 12, units = "in", dpi = "screen")
save_plot(filename = "~/GitHub/dia-del-trabajo/labour_day2.png", plot = labour_day, ncol = 1, nrow = 4)
save_plot(filename = "~/GitHub/dia-del-trabajo/labour_day2.png", plot = labour_day)
save_plot(filename = "~/GitHub/dia-del-trabajo/labour_day2.png", plot = labour_day, base_width = 12)
save_plot(filename = "~/GitHub/dia-del-trabajo/labour_day2.png", plot = labour_day, base_width = 12, base_height = 23)
save_plot(filename = "~/GitHub/dia-del-trabajo/labour_day2.png", plot = labour_day, base_asp = 1.1)
save_plot(filename = "~/GitHub/dia-del-trabajo/labour_day2.png", plot = labour_day, base_asp = 1.4)
save_plot(filename = "~/GitHub/dia-del-trabajo/labour_day2.png", plot = labour_day, base_asp = 0.5)
labour_day <- plot_grid(top_plot,
p1,
p2,
caption_plot,
rel_heights = c(2, 10, 10, 1),
nrow = 4,
labels = "auto")
labour_day
labour_day <- plot_grid(top_plot,
p1,
p2,
caption_plot,
rel_heights = c(2, 10, 10, 1),
nrow = 4)
labour_day
ggsave(filename = "~/GitHub/dia-del-trabajo/labour_day", plot = labour_day, device = "pdf")
ggsave(filename = "~/GitHub/dia-del-trabajo/labour_day.pdf", plot = labour_day, device = "pdf")
ggsave(filename = "~/GitHub/dia-del-trabajo/labour_day.pdf", plot = labour_day, height = 23, width = 12, device = "pdf")
ggsave(filename = "~/GitHub/dia-del-trabajo/labour_day.pdf", plot = labour_day, height = 23, width = 12, device = "pdf")
uniondiff %>%
filter(year %in% c(2021)) %>%
ggplot(aes(x = wage_diff, y = reorder(variable, wage_diff))) +
geom_vline(xintercept = 0, color = "gray40", size = 1.5) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Hispanic or Latino, ")), description = desc),
label.colour = "#0064ab", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(40, 'mm'),
con.cap = 0, con.colour = "#0064ab", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Black, ")), description = desc),
label.colour = "#c99f6e", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(55, 'mm'),
con.cap = 0, con.colour = "#c99f6e", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_mark_rect(aes(label = variable, color = color, filter = str_starts(variable, c("Total, 16 years")), description = desc),
label.colour = "#6876a4", label.fill = "transparent", label.fontsize = 10, label.buffer = unit(5, 'mm'),
con.cap = 0, con.colour = "#6876a4", con.border = "none",
expand = unit(3, "mm"), radius = unit(1, "mm"), show.legend = F) +
geom_point(aes(size = wage_diff, color = color), alpha = 0.9, show.legend = F, shape = 21, fill = "white", stroke = 4) +
scale_color_manual(values = colors) +
scale_x_continuous(limits = c(-200, 300), breaks = seq(-200, 300, 50), labels = scales::dollar_format()) +
draw_text(text = "On this side, workers that are members of unions\nearn on average more than non-union workers",
x = 220, y = 3, size = 12, color = "gray40", family = "font") +
coord_cartesian(clip = "off") +
labs(x = "Difference in median weekly earnings",
y = "",
title = NULL,
subtitle = "Should I join a UNION? Since 2012,  the median weekly earnings of full-time wage and salary workers have been larger for Members of Unions than for Non-union workers. 2021 data shows that Hispanic or Latino workers who are members of a union earn an average of $277 more than those who are not members of a union.",
caption = ) +
theme_minimal() +
theme(panel.grid = element_blank(),
plot.title.position = "plot",
plot.subtitle = element_textbox_simple(size = 12, lineheight = 1,
padding = margin(3, 3, 3, 3),
margin = margin(2, 0, 10, 0),
fill = "cornsilk", halign = 0.5),
plot.margin = margin(t = 5, r = 25, b = 10, l = 25),
axis.text = element_text(size = 12, face = "bold"),
axis.title.x = element_text(hjust = 0.4, margin = margin(t = 25), size = 14),
text = element_text(family = "font")) +
geom_qr(aes(label = qr, x = -150, y = 25), size = 1.3) +
annotate("curve", x = -110, xend = -165, y = 17, yend = 21, color = "gray60", curvature = -.45, alpha = 0.9,
arrow = arrow(angle = 15, length = unit(3.5, "mm"), type = "closed")) +
annotate("text", x = -85, y = 17, label = "more info\nscan here", color = "gray60", size = 4, hjust = 0.5, vjust = 0.5) -> p1
p1
unionocupdiff %>%
filter(year == 2021) %>%
ggplot(aes(x = union, y = reorder(Occupation, union))) +
geom_segment(aes(xend = non_union, yend = Occupation, size = log(100*wage_diff), alpha = 0.95), color = "#cfe1eb", show.legend = F) +
geom_segment(aes(xend = union - 7, yend = Occupation, size = log(100*wage_diff)), color = "#0064ab", show.legend = F) +
geom_segment(aes(x = non_union, xend = non_union + 7, yend = Occupation, size = log(100*wage_diff)), color = "#c99f6e", show.legend = F) +
geom_text(aes(x = union, y = Occupation, label = unionlab), color = "gray30", nudge_x = 30, size = 3.6) +
geom_text(aes(x = non_union, y = Occupation, label = nonunionlab), color = "gray30", nudge_x = -30, size = 3.6) +
geom_text(data = unionocupdiff %>% filter(Occupation != "Personal care and service occupations" & year == 2021),
aes(x = union - (wage_diff/2), y = Occupation, label = desc), color = "gray60", nudge_x = 0, size = 3) +
coord_cartesian(clip = "off") +
scale_x_continuous(limits = c(500, 1500), breaks = seq(500, 1500, 200), labels = scales::dollar_format()) +
scale_y_discrete(labels = function(x) str_wrap(x, width = 27)) +
labs(x = "Median weekly earnings",
y = "",
title = NULL,
subtitle = "In 2021, the median weekly earnings of full-time wage and salary workers have been larger for Members of Unions than for Non-union workers. 2021 data shows that workers who are members of a union earn an average more than those who are not members of a union. Members of Unions on Protective service, Construction and extraction, Service, and Installation, maintenance, and repair occupations have on average higher earnings than those not affiliated with a union.") +
theme_minimal() +
theme(panel.grid = element_blank(),
plot.title.position = "plot",
plot.subtitle = element_textbox_simple(size = 12, lineheight = 1,
padding = margin(3, 3, 3, 3),
margin = margin(3, 0, 10, 0),
fill = "cornsilk", halign = 0),
plot.margin = margin(t = 5, r = 25, b = 5, l = 25),
axis.text = element_text(size = 12, face = "bold"),
axis.title.x = element_text(hjust = 0.4, margin = margin(t = 25), size = 14),
text = element_text(family = "font")) -> p2
p2
labour_day <- plot_grid(top_plot,
p1,
p2,
caption_plot,
rel_heights = c(2, 10, 10, 1),
nrow = 4)
labour_day
unionocupdiff %>%
filter(year == 2021) %>%
ggplot(aes(x = union, y = reorder(Occupation, union))) +
geom_segment(aes(xend = non_union, yend = Occupation, size = log(100*wage_diff), alpha = 0.95), color = "#cfe1eb", show.legend = F) +
geom_segment(aes(xend = union - 7, yend = Occupation, size = log(100*wage_diff)), color = "#0064ab", show.legend = F) +
geom_segment(aes(x = non_union, xend = non_union + 7, yend = Occupation, size = log(100*wage_diff)), color = "#c99f6e", show.legend = F) +
geom_text(aes(x = union, y = Occupation, label = unionlab), color = "gray30", nudge_x = 30, size = 3.6) +
geom_text(aes(x = non_union, y = Occupation, label = nonunionlab), color = "gray30", nudge_x = -30, size = 3.6) +
geom_text(data = unionocupdiff %>% filter(Occupation != "Personal care and service occupations" & year == 2021),
aes(x = union - (wage_diff/2), y = Occupation, label = desc), color = "gray60", nudge_x = 0, size = 3) +
coord_cartesian(clip = "off") +
scale_x_continuous(limits = c(500, 1500), breaks = seq(500, 1500, 200), labels = scales::dollar_format()) +
scale_y_discrete(labels = function(x) str_wrap(x, width = 27)) +
labs(x = "Median weekly earnings",
y = "",
title = NULL,
subtitle = "In 2021, the median weekly earnings of full-time wage and salary workers have been larger for Members of Unions than for Non-union workers. 2021 data shows that workers who are members of a union earn an average more than those who are not members of a union. Members of Unions on Protective service, Construction and extraction, Service, and Installation, maintenance, and repair occupations have on average higher earnings than those not affiliated with a union.") +
theme_minimal() +
theme(panel.grid = element_blank(),
plot.title.position = "plot",
plot.subtitle = element_textbox_simple(size = 12, lineheight = 1,
padding = margin(3, 3, 3, 3),
margin = margin(3, 0, 10, 0),
fill = "cornsilk", halign = 0),
plot.margin = margin(t = 10, r = 25, b = 10, l = 25),
axis.text = element_text(size = 12, face = "bold"),
axis.title.x = element_text(hjust = 0.4, margin = margin(t = 25), size = 14),
text = element_text(family = "font")) -> p2
labour_day <- plot_grid(top_plot,
p1,
p2,
caption_plot,
rel_heights = c(2, 10, 10, 1),
nrow = 4)
labour_day
??draw_text
?draw_text
# Title and subtitle
ggdraw() +
draw_text("L  a  b  o  u  r     D  a  y",
x = 0.2, y = 0.5, size = 34, family = "font", hjust = 0, colour = "firebrick4", fontface = "bold") -> title_plot
title_plot
# Title and subtitle
ggdraw() +
draw_text("L  a  b  o  u  r     D  a  y",
x = 0.2, y = 0.5, size = 38, family = "font", hjust = 0, colour = "firebrick4", fontface = "bold") -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
# Title and subtitle
ggdraw() +
draw_text("L  a  b  o  u  r     D  a  y",
x = 0.2, y = 0.5, size = 38, family = "font", hjust = 0, colour = "red3", fontface = "bold") -> title_plot
# Top images
plot_grid(img, title_plot, ncol = 2, rel_widths = c(0.5, 2.5)) -> top_plot
top_plot
labour_day <- plot_grid(top_plot,
p1,
p2,
caption_plot,
rel_heights = c(2, 10, 10, 1),
nrow = 4)
labour_day
ggsave(filename = "~/GitHub/dia-del-trabajo/labour_day.png", plot = labour_day, height = 23, width = 12, units = "in", dpi = "screen")
ggsave(filename = "~/GitHub/dia-del-trabajo/labour_day.pdf", plot = labour_day, height = 23, width = 12, device = "pdf")
caption_plot
